var map = {
    "she" : "he",
    "he" : "she",
    "him" : "her",
    "ms" : "mr",
    "mrs" : "mr",
    "mr" : "ms",
    "woman" : "man",
    "man" : "woman",
    "women" : "men",
    "men" : "women",
    "female" : "male",
    "male" : "female",
    "males" : "females",
    "girl" : "boy",
    "boy" : "girl",
    "girls" : "boys",
    "boys" : "girls",
    "girly" : "boyish",
    "boyish" : "girly",
    "girlhood" : "boyhood",
    "boyhood" : "girlhood",
    "girlfriend" : "boyfriend",
    "boyfriend" : "girlfriend",
    "wife" : "husband",
    "husband" : "wife",
    "wives" : "husbands",
    "husbands" : "wives",
    "daughter" : "son",
    "son" : "daughter",
    "sons" : "daughters",
    "sister" : "brother",
    "brother" : "sister",
    "mother" : "father",
    "father" : "mother",
    "grandmother" : "grandfather",
    "godmother" : "godfather",
    "stepmother" : "stepfather",
    "aunt" : "uncle",
    "uncle" : "aunt",
    "aunts" : "uncles",
    "uncles" : "aunts",
    "niece" : "nephew",
    "nephew" : "niece",
    "nieces" : "nephews",
    "nephews" : "nieces",
    "herself" : "himself",
    "himself" : "herself",
    "ladies" : "gentlemen",
    "gentlemen" : "ladies",
    "lady" : "gentleman",
    "gentleman" : "lady",
    "mom" : "dad",
    "dad" : "mom",
    "moms" : "dads",
    "dads" : "moms",
    "mommy" : "daddy",
    "daddy" : "mommy",
    "mommies" : "daddies",
    "daddies" : "mommies",
    "ladiez" : "menz",
    "menz" : "ladiez",
    "manly" : "womanly",
    "manliness" : "womanliness",
    "manhood" : "womanhood",
    "mankind" : "womankind",
    "femini" : "masculi",
    "masculi" : "femini",
    "guy" : "gal",
    "guys" : "gals",
    "dude" : "girl",
    "dudes" : "girls",
    "dudely" : "girly",
    "maternal" : "paternal",
    "paternal" : "maternal",
    "maternity" : "paternity",
    "paternity" : "maternity",
    "matroniz" : "patroniz",
    "patroniz" : "matroniz",
    "klansman" : "klanswoman",
    "airman" : "airwoman",
    "airmen" : "airwomen",
    "alderman" : "alderwoman",
    "aldermen" : "alderwomen",
    "anchorman" : "anchorwoman",
    "anchormen" : "anchorwomen",
    "assemblyman" : "assemblywoman",
    "assemblymen" : "assemblywomen",
    "bogeyman" : "bogeywoman",
    "bogeymen" : "bogeywomen",
    "bondsman" : "bondswoman",
    "bondsmen" : "bondswomen",
    "businessman" : "businesswoman",
    "businessmen" : "businesswomen",
    "cameraman" : "camerawoman",
    "cameramen" : "camerawomen",
    "caveman" : "cavewoman",
    "cavemen" : "cavewomen",
    "chairman" : "chairwoman",
    "chairmen" : "chairwomen",
    "clergyman" : "clergywoman",
    "clergymen" : "clergywomen",
    "congressman" : "congresswoman",
    "congressmen" : "congresswomen",
    "councilman" : "councilwoman",
    "councilmen" : "councilwomen",
    "countryman" : "countrywoman",
    "countrymen" : "countrywomen",
    "craftsman" : "craftswoman",
    "craftsmen" : "craftswomen",
    "doorman" : "doorwoman",
    "doormen" : "doorwomen",
    "fireman" : "firewoman",
    "firemen" : "firewomen",
    "fisherman" : "fisherwoman",
    "fishermen" : "fisherwomen",
    "foreman" : "forewoman",
    "foremen" : "forewomen",
    "freshman" : "freshwoman",
    "freshmen" : "freshwomen",
    "garbageman" : "garbagewoman",
    "garbagemen" : "garbagewomen",
    "handyman" : "handywoman",
    "handymen" : "handywomen",
    "hangman" : "hangwoman",
    "hangmen" : "hangwomen",
    "henchman" : "henchwoman",
    "henchmen" : "henchwomen",
    "journeyman" : "journeywoman",
    "journeymen" : "journeywomen",
    "kinsman" : "kinswoman",
    "kinsmen" : "kinswomen",
    "layman" : "laywoman",
    "laymen" : "laywomen",
    "madman" : "madwoman",
    "madmen" : "madwomen",
    "mailman" : "mailwoman",
    "mailmen" : "mailwomen",
    "marksman" : "markswoman",
    "marksmen" : "markswomen",
    "middleman" : "middlewoman",
    "middlemen" : "middlewomen",
    "milkman" : "milkwoman",
    "milkmen" : "milkwomen",
    "nobleman" : "noblewoman",
    "noblemen" : "noblewomen",
    "ombudsman" : "ombudswoman",
    "ombudsmen" : "ombudswomen",
    "policeman" : "policewoman",
    "policemen" : "policewomen",
    "postman" : "postwoman",
    "postmen" : "postwomen",
    "repairman" : "repairwoman",
    "repairmen" : "repairwomen",
    "salesman" : "saleswoman",
    "salesmen" : "saleswomen",
    "sandman" : "sandwoman",
    "sandmen" : "sandwomen",
    "serviceman" : "servicewoman",
    "servicemen" : "servicewomen",
    "showman" : "showwoman",
    "showmen" : "showwomen",
    "spaceman" : "spacewoman",
    "spacemen" : "spacewomen",
    "spokesman" : "spokeswoman",
    "spokesmen" : "spokeswomen",
    "sportsman" : "sportswoman",
    "sportsmen" : "sportswomen",
    "statesman" : "stateswoman",
    "statesmen" : "stateswomen",
    "superman" : "superwoman",
    "supermen" : "superwomen",
    "unman" : "unwoman",
    "watchman" : "watchwoman",
    "watchmen" : "watchwomen",
    "weatherman" : "weatherwoman",
    "weathermen" : "weatherwomen",
    "workman" : "workwoman",
    "workmen" : "workwomen",
    "hero" : "heroine",
    "heroes" : "heroines",
    "heroine" : "hero",
    "heroines" : "heroes",
    "maleness" : "femaleness",
    "whitemaleness" : "whitefemaleness",
    "misogyn" : "misandr",
    "misandr" : "misogyn",
    "dudebro" : "galpal",
    "laydeez" : "d00dz",
    "d00dz" : "laydeez",
    "fem" : "masc",
    "radfem" : "radmasc",
    "widow" : "widower",
    "widower" : "widow",
    "fiance" : "fiancee",
    "fiancee" : "fiance",
    "papa" : "mama",
    "mama" : "papa",
    "poppa" : "momma",
    "momma" : "poppa",
    "god" : "goddess",
    "godliness" : "goddessliness",
    "godhead" : "goddesshead",
    "godhood" : "goddesshood",
    "godly" : "goddessly",
    "goddess" : "god",
    "bride" : "groom",
    "groom" : "bride",
    "gal" : "fellow",
    "sir" : "ma'am",
    "ma'am" : "sir",
    "grandson" : "granddaughter",
    "patriar" : "matriar",
    "matriar" : "patriar",
    "antifeminist" : "antimasculist",
    "stepsister" : "stepbrother",
    "stepbrother" : "stepsister",
    "lord" : "lady",
    "lords" : "ladies",
    "king" : "queen",
    "kings" : "queens",
    "queen" : "king",
    "queens" : "kings",
    "priest" : "priestess",
    "priests" : "priestesses",
    "priestess" : "priest",
    "priestesses" : "priests",
    "prince" : "princess",
    "princes" : "princesses",
    "princess" : "prince",
    "princesses" : "princes",
    "emperor" : "empress",
    "emperors" : "empresses",
    "empress" : "emperor",
    "empresses" : "emperors",
    "girlier" : "dudelier",
    "girliest" : "dudeliest",
    "dudelier" : "girlier",
    "dudeliest" : "girliest",
    "actor" : "actress",
    "actors" : "actresses",
    "actress" : "actor",
    "actresses" : "actors",
    "waiter" : "waitress",
    "waitress" : "waiter",
    "grandma" : "grandpa",
    "grandpa" : "grandma",
    "gramps" : "grandma",
    "bloke" : "girl",
    "She" : "He",
    "He" : "She",
    "Him" : "Her",
    "Ms" : "Mr",
    "Mrs" : "Mr",
    "Mr" : "Ms",
    "Woman" : "Man",
    "Man" : "Woman",
    "Women" : "Men",
    "Men" : "Women",
    "Female" : "Male",
    "Male" : "Female",
    "Males" : "Females",
    "Girl" : "Boy",
    "Boy" : "Girl",
    "Girls" : "Boys",
    "Boys" : "Girls",
    "Girly" : "Boyish",
    "Boyish" : "Girly",
    "Girlhood" : "Boyhood",
    "Boyhood" : "Girlhood",
    "Girlfriend" : "Boyfriend",
    "Boyfriend" : "Girlfriend",
    "Wife" : "Husband",
    "Husband" : "Wife",
    "Wives" : "Husbands",
    "Husbands" : "Wives",
    "Daughter" : "Son",
    "Son" : "Daughter",
    "Sons" : "Daughters",
    "Sister" : "Brother",
    "Brother" : "Sister",
    "Mother" : "Father",
    "Father" : "Mother",
    "Aunt" : "Uncle",
    "Uncle" : "Aunt",
    "Aunts" : "Uncles",
    "Uncles" : "Aunts",
    "Niece" : "Nephew",
    "Nephew" : "Niece",
    "Nieces" : "Nephews",
    "Nephews" : "Nieces",
    "Herself" : "Himself",
    "Himself" : "Herself",
    "Ladies" : "Gentlemen",
    "Gentlemen" : "Ladies",
    "Lady" : "Gentleman",
    "Gentleman" : "Lady",
    "Mom" : "Dad",
    "Dad" : "Mom",
    "Moms" : "Dads",
    "Dads" : "Moms",
    "Mommy" : "Daddy",
    "Daddy" : "Mommy",
    "Mommies" : "Daddies",
    "Daddies" : "Mommies",
    "Ladiez" : "Menz",
    "Menz" : "Ladiez",
    "Manly" : "Womanly",
    "Manliness" : "Womanliness",
    "Manhood" : "Womanhood",
    "Mankind" : "Womankind",
    "Femini" : "Masculi",
    "Masculi" : "Femini",
    "Guy" : "Gal",
    "Guys" : "Gals",
    "Dude" : "Girl",
    "Dudes" : "Girls",
    "Dudely" : "Girly",
    "Maternal" : "Paternal",
    "Paternal" : "Maternal",
    "Maternity" : "Paternity",
    "Paternity" : "Maternity",
    "Matroniz" : "Patroniz",
    "Patroniz" : "Matroniz",
    "Klansman" : "Klanswoman",
    "Airman" : "Airwoman",
    "Airmen" : "Airwomen",
    "Alderman" : "Alderwoman",
    "Aldermen" : "Alderwomen",
    "Anchorman" : "Anchorwoman",
    "Anchormen" : "Anchorwomen",
    "Assemblyman" : "Assemblywoman",
    "Assemblymen" : "Assemblywomen",
    "Bogeyman" : "Bogeywoman",
    "Bogeymen" : "Bogeywomen",
    "Bondsman" : "Bondswoman",
    "Bondsmen" : "Bondswomen",
    "Businessman" : "Businesswoman",
    "Businessmen" : "Businesswomen",
    "Cameraman" : "Camerawoman",
    "Cameramen" : "Camerawomen",
    "Caveman" : "Cavewoman",
    "Cavemen" : "Cavewomen",
    "Chairman" : "Chairwoman",
    "Chairmen" : "Chairwomen",
    "Clergyman" : "Clergywoman",
    "Clergymen" : "Clergywomen",
    "Congressman" : "Congresswoman",
    "Congressmen" : "Congresswomen",
    "Councilman" : "Councilwoman",
    "Councilmen" : "Councilwomen",
    "Countryman" : "Countrywoman",
    "Countrymen" : "Countrywomen",
    "Craftsman" : "Craftswoman",
    "Craftsmen" : "Craftswomen",
    "Doorman" : "Doorwoman",
    "Doormen" : "Doorwomen",
    "Fireman" : "Firewoman",
    "Firemen" : "Firewomen",
    "Fisherman" : "Fisherwoman",
    "Fishermen" : "Fisherwomen",
    "Foreman" : "Forewoman",
    "Foremen" : "Forewomen",
    "Freshman" : "Freshwoman",
    "Freshmen" : "Freshwomen",
    "Garbageman" : "Garbagewoman",
    "Garbagemen" : "Garbagewomen",
    "Handyman" : "Handywoman",
    "Handymen" : "Handywomen",
    "Hangman" : "Hangwoman",
    "Hangmen" : "Hangwomen",
    "Henchman" : "Henchwoman",
    "Henchmen" : "Henchwomen",
    "Journeyman" : "Journeywoman",
    "Journeymen" : "Journeywomen",
    "Kinsman" : "Kinswoman",
    "Kinsmen" : "Kinswomen",
    "Layman" : "Laywoman",
    "Laymen" : "Laywomen",
    "Madman" : "Madwoman",
    "Madmen" : "Madwomen",
    "Mailman" : "Mailwoman",
    "Mailmen" : "Mailwomen",
    "Marksman" : "Markswoman",
    "Marksmen" : "Markswomen",
    "Middleman" : "Middlewoman",
    "Middlemen" : "Middlewomen",
    "Milkman" : "Milkwoman",
    "Milkmen" : "Milkwomen",
    "Nobleman" : "Noblewoman",
    "Noblemen" : "Noblewomen",
    "Ombudsman" : "Ombudswoman",
    "Ombudsmen" : "Ombudswomen",
    "Policeman" : "Policewoman",
    "Policemen" : "Policewomen",
    "Postman" : "Postwoman",
    "Postmen" : "Postwomen",
    "Repairman" : "Repairwoman",
    "Repairmen" : "Repairwomen",
    "Salesman" : "Saleswoman",
    "Salesmen" : "Saleswomen",
    "Sandman" : "Sandwoman",
    "Sandmen" : "Sandwomen",
    "Serviceman" : "Servicewoman",
    "Servicemen" : "Servicewomen",
    "Showman" : "Showwoman",
    "Showmen" : "Showwomen",
    "Spaceman" : "Spacewoman",
    "Spacemen" : "Spacewomen",
    "Spokesman" : "Spokeswoman",
    "Spokesmen" : "Spokeswomen",
    "Sportsman" : "Sportswoman",
    "Sportsmen" : "Sportswomen",
    "Statesman" : "Stateswoman",
    "Statesmen" : "Stateswomen",
    "Superman" : "Superwoman",
    "Supermen" : "Superwomen",
    "Unman" : "Unwoman",
    "Watchman" : "Watchwoman",
    "Watchmen" : "Watchwomen",
    "Weatherman" : "Weatherwoman",
    "Weathermen" : "Weatherwomen",
    "Workman" : "Workwoman",
    "Workmen" : "Workwomen",
    "Hero" : "Heroine",
    "Heroes" : "Heroines",
    "Heroine" : "Hero",
    "Heroines" : "Heroes",
    "Maleness" : "Femaleness",
    "Whitemaleness" : "Whitefemaleness",
    "Misogyn" : "Misandr",
    "Misandr" : "Misogyn",
    "Dudebro" : "Galpal",
    "Laydeez" : "D00dz",
    "D00dz" : "Laydeez",
    "Fem" : "Masc",
    "Radfem" : "Radmasc",
    "Widow" : "Widower",
    "Widower" : "Widow",
    "Fiance" : "Fiancee",
    "Fiancee" : "Fiance",
    "Papa" : "Mama",
    "Mama" : "Papa",
    "Poppa" : "Momma",
    "Momma" : "Poppa",
    "God" : "Goddess",
    "Godliness" : "Goddessliness",
    "Godhead" : "Goddesshead",
    "Godhood" : "Goddesshood",
    "Godly" : "Goddessly",
    "Goddess" : "God",
    "Bride" : "Groom",
    "Groom" : "Bride",
    "Gal" : "Fellow",
    "Sir" : "Ma'am",
    "Ma'am" : "Sir",
    "Grandson" : "Granddaughter",
    "Patriar" : "Matriar",
    "Matriar" : "Patriar",
    "Antifeminist" : "Antimasculist",
    "Stepsister" : "Stepbrother",
    "Stepbrother" : "Stepsister",
    "Lord" : "Lady",
    "Lords" : "Ladies",
    "King" : "Queen",
    "Kings" : "Queens",
    "Queen" : "King",
    "Queens" : "Kings",
    "Priest" : "Priestess",
    "Priests" : "Priestesses",
    "Priestess" : "Priest",
    "Priestesses" : "Priests",
    "Prince" : "Princess",
    "Princes" : "Princesses",
    "Princess" : "Prince",
    "Princesses" : "Princes",
    "Emperor" : "Empress",
    "Emperors" : "Empresses",
    "Empress" : "Emperor",
    "Empresses" : "Emperors",
    "Girlier" : "Dudelier",
    "Girliest" : "Dudeliest",
    "Dudelier" : "Girlier",
    "Dudeliest" : "Girliest",
    "Actor" : "Actress",
    "Actors" : "Actresses",
    "Actress" : "Actor",
    "Actresses" : "Actors",
    "Waiter" : "waitress",
    "Waitress" : "Waiter",
    "Grandma" : "Grandpa",
    "Grandpa" : "Grandma",
    "Gramps" : "Grandma",
    "Bloke" : "Girl",
    "SHE" : "HE",
    "HE" : "SHE",
    "HIM" : "HER",
    "MS" : "MR",
    "MRS" : "MR",
    "MR" : "MS",
    "WOMAN" : "MAN",
    "MAN" : "WOMAN",
    "WOMEN" : "MEN",
    "MEN" : "WOMEN",
    "FEMALE" : "MALE",
    "MALE" : "FEMALE",
    "MALES" : "FEMALES",
    "GIRL" : "BOY",
    "BOY" : "GIRL",
    "GIRLS" : "BOYS",
    "BOYS" : "GIRLS",
    "GIRLY" : "BOYISH",
    "BOYISH" : "GIRLY",
    "GIRLHOOD" : "BOYHOOD",
    "BOYHOOD" : "GIRLHOOD",
    "GIRLFRIEND" : "BOYFRIEND",
    "BOYFRIEND" : "GIRLFRIEND",
    "WIFE" : "HUSBAND",
    "HUSBAND" : "WIFE",
    "WIVES" : "HUSBANDS",
    "HUSBANDS" : "WIVES",
    "DAUGHTER" : "SON",
    "SON" : "DAUGHTER",
    "SONS" : "DAUGHTERS",
    "SISTER" : "BROTHER",
    "BROTHER" : "SISTER",
    "MOTHER" : "FATHER",
    "FATHER" : "MOTHER",
    "AUNT" : "UNCLE",
    "UNCLE" : "AUNT",
    "AUNTS" : "UNCLES",
    "UNCLES" : "AUNTS",
    "NIECE" : "NEPHEW",
    "NEPHEW" : "NIECE",
    "NIECES" : "NEPHEWS",
    "NEPHEWS" : "NIECES",
    "HERSELF" : "HIMSELF",
    "HIMSELF" : "HERSELF",
    "LADIES" : "GENTLEMEN",
    "GENTLEMEN" : "LADIES",
    "LADY" : "GENTLEMAN",
    "GENTLEMAN" : "LADY",
    "MOM" : "DAD",
    "DAD" : "MOM",
    "MOMS" : "DADS",
    "DADS" : "MOMS",
    "MOMMY" : "DADDY",
    "DADDY" : "MOMMY",
    "MOMMIES" : "DADDIES",
    "DADDIES" : "MOMMIES",
    "LADIEZ" : "MENZ",
    "MENZ" : "LADIEZ",
    "MANLY" : "WOMANLY",
    "MANLINESS" : "WOMANLINESS",
    "MANHOOD" : "WOMANHOOD",
    "MANKIND" : "WOMANKIND",
    "FEMINI" : "MASCULI",
    "MASCULI" : "FEMINI",
    "GUY" : "GAL",
    "GUYS" : "GALS",
    "DUDE" : "GIRL",
    "DUDES" : "GIRLS",
    "DUDELY" : "GIRLY",
    "MATERNAL" : "PATERNAL",
    "PATERNAL" : "MATERNAL",
    "MATERNITY" : "PATERNITY",
    "PATERNITY" : "MATERNITY",
    "MATRONIZ" : "PATRONIZ",
    "PATRONIZ" : "MATRONIZ",
    "KLANSMAN" : "KLANSWOMAN",
    "AIRMAN" : "AIRWOMAN",
    "AIRMEN" : "AIRWOMEN",
    "ALDERMAN" : "ALDERWOMAN",
    "ALDERMEN" : "ALDERWOMEN",
    "ANCHORMAN" : "ANCHORWOMAN",
    "ANCHORMEN" : "ANCHORWOMEN",
    "ASSEMBLYMAN" : "ASSEMBLYWOMAN",
    "ASSEMBLYMEN" : "ASSEMBLYWOMEN",
    "BOGEYMAN" : "BOGEYWOMAN",
    "BOGEYMEN" : "BOGEYWOMEN",
    "BONDSMAN" : "BONDSWOMAN",
    "BONDSMEN" : "BONDSWOMEN",
    "BUSINESSMAN" : "BUSINESSWOMAN",
    "BUSINESSMEN" : "BUSINESSWOMEN",
    "CAMERAMAN" : "CAMERAWOMAN",
    "CAMERAMEN" : "CAMERAWOMEN",
    "CAVEMAN" : "CAVEWOMAN",
    "CAVEMEN" : "CAVEWOMEN",
    "CHAIRMAN" : "CHAIRWOMAN",
    "CHAIRMEN" : "CHAIRWOMEN",
    "CLERGYMAN" : "CLERGYWOMAN",
    "CLERGYMEN" : "CLERGYWOMEN",
    "CONGRESSMAN" : "CONGRESSWOMAN",
    "CONGRESSMEN" : "CONGRESSWOMEN",
    "COUNCILMAN" : "COUNCILWOMAN",
    "COUNCILMEN" : "COUNCILWOMEN",
    "COUNTRYMAN" : "COUNTRYWOMAN",
    "COUNTRYMEN" : "COUNTRYWOMEN",
    "CRAFTSMAN" : "CRAFTSWOMAN",
    "CRAFTSMEN" : "CRAFTSWOMEN",
    "DOORMAN" : "DOORWOMAN",
    "DOORMEN" : "DOORWOMEN",
    "FIREMAN" : "FIREWOMAN",
    "FIREMEN" : "FIREWOMEN",
    "FISHERMAN" : "FISHERWOMAN",
    "FISHERMEN" : "FISHERWOMEN",
    "FOREMAN" : "FOREWOMAN",
    "FOREMEN" : "FOREWOMEN",
    "FRESHMAN" : "FRESHWOMAN",
    "FRESHMEN" : "FRESHWOMEN",
    "GARBAGEMAN" : "GARBAGEWOMAN",
    "GARBAGEMEN" : "GARBAGEWOMEN",
    "HANDYMAN" : "HANDYWOMAN",
    "HANDYMEN" : "HANDYWOMEN",
    "HANGMAN" : "HANGWOMAN",
    "HANGMEN" : "HANGWOMEN",
    "HENCHMAN" : "HENCHWOMAN",
    "HENCHMEN" : "HENCHWOMEN",
    "JOURNEYMAN" : "JOURNEYWOMAN",
    "JOURNEYMEN" : "JOURNEYWOMEN",
    "KINSMAN" : "KINSWOMAN",
    "KINSMEN" : "KINSWOMEN",
    "LAYMAN" : "LAYWOMAN",
    "LAYMEN" : "LAYWOMEN",
    "MADMAN" : "MADWOMAN",
    "MADMEN" : "MADWOMEN",
    "MAILMAN" : "MAILWOMAN",
    "MAILMEN" : "MAILWOMEN",
    "MARKSMAN" : "MARKSWOMAN",
    "MARKSMEN" : "MARKSWOMEN",
    "MIDDLEMAN" : "MIDDLEWOMAN",
    "MIDDLEMEN" : "MIDDLEWOMEN",
    "MILKMAN" : "MILKWOMAN",
    "MILKMEN" : "MILKWOMEN",
    "NOBLEMAN" : "NOBLEWOMAN",
    "NOBLEMEN" : "NOBLEWOMEN",
    "OMBUDSMAN" : "OMBUDSWOMAN",
    "OMBUDSMEN" : "OMBUDSWOMEN",
    "POLICEMAN" : "POLICEWOMAN",
    "POLICEMEN" : "POLICEWOMEN",
    "POSTMAN" : "POSTWOMAN",
    "POSTMEN" : "POSTWOMEN",
    "REPAIRMAN" : "REPAIRWOMAN",
    "REPAIRMEN" : "REPAIRWOMEN",
    "SALESMAN" : "SALESWOMAN",
    "SALESMEN" : "SALESWOMEN",
    "SANDMAN" : "SANDWOMAN",
    "SANDMEN" : "SANDWOMEN",
    "SERVICEMAN" : "SERVICEWOMAN",
    "SERVICEMEN" : "SERVICEWOMEN",
    "SHOWMAN" : "SHOWWOMAN",
    "SHOWMEN" : "SHOWWOMEN",
    "SPACEMAN" : "SPACEWOMAN",
    "SPACEMEN" : "SPACEWOMEN",
    "SPOKESMAN" : "SPOKESWOMAN",
    "SPOKESMEN" : "SPOKESWOMEN",
    "SPORTSMAN" : "SPORTSWOMAN",
    "SPORTSMEN" : "SPORTSWOMEN",
    "STATESMAN" : "STATESWOMAN",
    "STATESMEN" : "STATESWOMEN",
    "SUPERMAN" : "SUPERWOMAN",
    "SUPERMEN" : "SUPERWOMEN",
    "UNMAN" : "UNWOMAN",
    "WATCHMAN" : "WATCHWOMAN",
    "WATCHMEN" : "WATCHWOMEN",
    "WEATHERMAN" : "WEATHERWOMAN",
    "WEATHERMEN" : "WEATHERWOMEN",
    "WORKMAN" : "WORKWOMAN",
    "WORKMEN" : "WORKWOMEN",
    "HERO" : "HEROINE",
    "HEROES" : "HEROINES",
    "HEROINE" : "HERO",
    "HEROINES" : "HEROES",
    "MALENESS" : "FEMALENESS",
    "WHITEMALENESS" : "WHITEFEMALENESS",
    "MISOGYN" : "MISANDR",
    "MISANDR" : "MISOGYN",
    "DUDEBRO" : "GALPAL",
    "LAYDEEZ" : "D00DZ",
    "D00DZ" : "LAYDEEZ",
    "FEM" : "MASC",
    "RADFEM" : "RADMASC",
    "WIDOW" : "WIDOWER",
    "WIDOWER" : "WIDOW",
    "FIANCE" : "FIANCEE",
    "FIANCEE" : "FIANCE",
    "PAPA" : "MAMA",
    "MAMA" : "PAPA",
    "POPPA" : "MOMMA",
    "MOMMA" : "POPPA",
    "GOD" : "GODDESS",
    "GODLINESS" : "GODDESSLINESS",
    "GODHEAD" : "GODDESSHEAD",
    "GODHOOD" : "GODDESSHOOD",
    "GODLY" : "GODDESSLY",
    "GODDESS" : "GOD",
    "BRIDE" : "GROOM",
    "GROOM" : "BRIDE",
    "GAL" : "FELLOW",
    "SIR" : "MA'AM",
    "MA'AM" : "SIR",
    "GRANDSON" : "GRANDDAUGHTER",
    "PATRIAR" : "MATRIAR",
    "MATRIAR" : "PATRIAR",
    "ANTIFEMINIST" : "ANTIMASCULIST",
    "STEPSISTER" : "STEPBROTHER",
    "STEPBROTHER" : "STEPSISTER",
    "LORD" : "LADY",
    "LORDS" : "LADIES",
    "KING" : "QUEEN",
    "KINGS" : "QUEENS",
    "QUEEN" : "KING",
    "QUEENS" : "KINGS",
    "PRIEST" : "PRIESTESS",
    "PRIESTS" : "PRIESTESSES",
    "PRIESTESS" : "PRIEST",
    "PRIESTESSES" : "PRIESTS",
    "PRINCE" : "PRINCESS",
    "PRINCES" : "PRINCESSES",
    "PRINCESS" : "PRINCE",
    "PRINCESSES" : "PRINCES",
    "EMPEROR" : "EMPRESS",
    "EMPERORS" : "EMPRESSES",
    "EMPRESS" : "EMPEROR",
    "EMPRESSES" : "EMPERORS",
    "GIRLIER" : "DUDELIER",
    "GIRLIEST" : "DUDELIEST",
    "DUDELIER" : "GIRLIER",
    "DUDELIEST" : "GIRLIEST",
    "ACTOR" : "ACTRESS",
    "ACTORS" : "ACTRESSES",
    "ACTRESS" : "ACTOR",
    "ACTRESSES" : "ACTORS",
    "WAITER" : "WAITRESS",
    "WAITRESS" : "WAITER",
    "GRANDMA" : "GRANDPA",
    "GRANDPA" : "GRANDMA",
    "GRAMPS" : "GRANDMA",
    "BLOKE" : "GIRL"
};

// preserves three capitalization styles: uncapitalized, Capitalized,
// and ALLCAPS.  CamelCase is not supported, and uncapitalize is sort
// of an "identity style"---i.e., the replacement is return in exactly
// the same case as it was passed in.
function replace_case_sensitive(word, replacement) {
    var upper = word.toUpperCase();
    if (upper === word) {
        return replacement.toUpperCase;
    } else if (upper.charAt(0) === word.charAt(0)) {
        return replacement.charAt(0).toUpperCase() + replacement.substr(1);
    } else return replacement;
}

function genderswap(node){
    chrome.extension.sendRequest({text: node.textContent}, function(response) {
        var replaced = [];
        var didReplace = false;
        var tagged = response.tagged;
        for (var i = tagged.length - 1; i >= 0; --i) {
            var word = tagged[i][0]; 
            var tag = tagged[i][1];
            var replacement = map[word];
            if (replacement) {
                didReplace = true;
            } else if (word.toLowerCase === "her") {
                var replacement = tag === "PP$" ? "his" : "him";
                replacement = replace_case_sensitive(word, replacement);
                didReplace = true;
            } else replacement = word;
            replaced[i] = replacement;
        }
        if (didReplace) {
            console.log(node.textContent);
            node.textContent = replaced.join(" ");
            console.log(node.textContent);
        }
    });
}

function jailbreak(node){
    console.log("foo!");
    var treeWalker = document.createTreeWalker(  
        node,  
        NodeFilter.SHOW_TEXT,  
        { acceptNode: function(node) { return NodeFilter.FILTER_ACCEPT; } },  
        false  
    ); 
    while(treeWalker.nextNode()) {
        genderswap(treeWalker.currentNode);
    }
}

chrome.extension.sendRequest({checkPaused: "hello"}, function(response) {
    if (response.maybePaused!="yes") {
    jailbreak(document.body);

    document.body.addEventListener('DOMNodeInserted', function(event) {
        jailbreak(event.target);
    });
}
});

